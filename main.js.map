{"version":3,"file":"main.js","mappings":"mBAuBA,SAASA,IACP,MAAMC,EAASC,SAASC,cAAc,eAClCF,GACFA,EAAOG,QAEX,CAdAF,SAASG,iBAAiB,oBAZ1B,WACE,MAAMC,EAAQJ,SAASC,cAAc,UAErC,IAAK,IAAII,EAAI,EAAGA,EAAI,EAAGA,IACrB,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMC,EAAUP,SAASQ,cAAc,OACvCD,EAAQE,UAAUC,IAAI,QACtBH,EAAQI,QAAQC,GAAM,EAAIP,EAAKC,EAAI,EACnCF,EAAMS,YAAYN,EACpB,CAEJ,IA6BA,WACE,IAAIO,EACJ,MAAMC,EAAUf,SAASC,cAAc,aAEjCe,EAAaC,aAAY,KAC7BnB,IAEA,MAAMoB,EAAUlB,SAASmB,iBAAiB,SAC1C,IAAIC,EAAOC,KAAKC,MAAMD,KAAKE,SAAWL,EAAQM,QAE1CV,GAAgBM,IAASN,EAAe,IACtCM,IAASF,EAAQM,OAAS,IAC5BJ,GAAQ,GAEVA,GAAQ,GAxCd,SAAgBK,EAAYL,GAC1B,MAAMM,EAAM1B,SAASQ,cAAc,OACnCkB,EAAIjB,UAAUC,IAAI,cAClBgB,EAAIC,I,6BACJF,EAAWL,GAAMP,YAAYa,EAC/B,CAsCIE,CAAOV,EAASE,GAEhBN,EAAee,OAAOX,EAAQE,GAAMT,QAAQC,GAAG,GAC9C,KASHG,EAAQZ,iBAAiB,SAAS,KAAM2B,OANtBC,EAM+Bf,EAL/ClB,IACAkC,cAAcD,QArClB,WACE,MAAME,EAAQjC,SAASkC,eAAe,SACtCD,EAAME,YAAc,EAEpBlB,aAAY,KACVgB,EAAME,cAC4B,IAA9BN,OAAOI,EAAME,cACfC,SAASC,QACX,GACC,IACL,CA4BIC,GAHF,IAAkBP,CAM0C,GAC9D,CAEAQ,E","sources":["webpack://DOM/./src/js/app.js"],"sourcesContent":["import gobImg from '../img/goblin.png';\n\nfunction onLoad() {\n  const field = document.querySelector('.field');\n\n  for (let i = 0; i < 4; i++) {\n    for (let j = 0; j < 4; j++) {\n      const divElem = document.createElement('div');\n      divElem.classList.add('elem');\n      divElem.dataset.id = (4 * i) + j + 1;\n      field.appendChild(divElem);\n    }\n  }\n}\ndocument.addEventListener('DOMContentLoaded', onLoad);\n\nfunction addImg(targetsArr, curr) {\n  const img = document.createElement('img');\n  img.classList.add('img-target');\n  img.src = gobImg; // ../src/img/goblin.png ./img/goblin.png goblin.png\n  targetsArr[curr].appendChild(img);\n}\n\nfunction removeTarget() {\n  const target = document.querySelector('.img-target');\n  if (target) {\n    target.remove();\n  }\n}\n\nfunction endGame() {\n  const timer = document.getElementById('timer');\n  timer.textContent = 5;\n\n  setInterval(() => {\n    timer.textContent--;\n    if (Number(timer.textContent) === 0) {\n      location.reload();\n    }\n  }, 1000);\n}\n\nfunction addTarget() {\n  let prevTargetId;\n  const btnStop = document.querySelector('.btn-stop');\n\n  const intervalID = setInterval(() => {\n    removeTarget();\n\n    const targets = document.querySelectorAll('.elem');\n    let curr = Math.floor(Math.random() * targets.length);\n\n    if (prevTargetId && curr === prevTargetId - 1) {\n      if (curr === targets.length - 1) {\n        curr -= 2;\n      }\n      curr += 1;\n    }\n\n    addImg(targets, curr);\n\n    prevTargetId = Number(targets[curr].dataset.id);\n  }, 1000);\n\n  // кнопка остановки игры и автоматическая перезагрузка страницы\n  function stopGame(interval) {\n    removeTarget();\n    clearInterval(interval);\n    endGame();\n  }\n\n  btnStop.addEventListener('click', () => stopGame(intervalID));\n}\n\naddTarget();\n"],"names":["removeTarget","target","document","querySelector","remove","addEventListener","field","i","j","divElem","createElement","classList","add","dataset","id","appendChild","prevTargetId","btnStop","intervalID","setInterval","targets","querySelectorAll","curr","Math","floor","random","length","targetsArr","img","src","addImg","Number","stopGame","interval","clearInterval","timer","getElementById","textContent","location","reload","endGame","addTarget"],"sourceRoot":""}